import{r as l,I as J,_ as ee,u as te,B as A,c as L,g as M,m as ne,i as oe,a as re,b as le,P as ae,d as se,e as ie,C as j,f as E,h as ce,j as H,T as F,k as de,l as ue,K as pe,n as fe,o as me,R as K,p as ge,q as ve,s as xe,t as ye,v as Ce,w,x as he,L as be,y as Oe,z as V,A as Pe}from"./index-DIFyFVYN.js";var we={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"},Se=function(n,o){return l.createElement(J,ee({},n,{ref:o,icon:we}))},$e=l.forwardRef(Se);function R(e){return!!e?.then}const je=e=>{const{type:n,children:o,prefixCls:t,buttonProps:r,close:a,autoFocus:u,emitEvent:c,isSilent:s,quitOnNullishReturnValue:p,actionFn:i}=e,d=l.useRef(!1),v=l.useRef(null),[y,C]=te(!1),f=function(){a?.apply(void 0,arguments)};l.useEffect(()=>{let m=null;return u&&(m=setTimeout(()=>{var g;(g=v.current)===null||g===void 0||g.focus()})),()=>{m&&clearTimeout(m)}},[]);const h=m=>{R(m)&&(C(!0),m.then(function(){C(!1,!0),f.apply(void 0,arguments),d.current=!1},g=>{if(C(!1,!0),d.current=!1,!s?.())return Promise.reject(g)}))},O=m=>{if(d.current)return;if(d.current=!0,!i){f();return}let g;if(c){if(g=i(m),p&&!R(g)){d.current=!1,f(m);return}}else if(i.length)g=i(a),d.current=!1;else if(g=i(),!R(g)){f();return}h(g)};return l.createElement(A,Object.assign({},L(n),{onClick:O,loading:y,prefixCls:t},r,{ref:v}),o)},S=e=>e?typeof e=="function"?e():e:null,Ee=e=>{const{componentCls:n,popoverColor:o,titleMinWidth:t,fontWeightStrong:r,innerPadding:a,boxShadowSecondary:u,colorTextHeading:c,borderRadiusLG:s,zIndexPopup:p,titleMarginBottom:i,colorBgElevated:d,popoverBg:v,titleBorderBottom:y,innerContentPadding:C,titlePadding:f}=e;return[{[n]:Object.assign(Object.assign({},re(e)),{position:"absolute",top:0,left:{_skip_check_:!0,value:0},zIndex:p,fontWeight:"normal",whiteSpace:"normal",textAlign:"start",cursor:"auto",userSelect:"text","--valid-offset-x":"var(--arrow-offset-horizontal, var(--arrow-x))",transformOrigin:["var(--valid-offset-x, 50%)","var(--arrow-y, 50%)"].join(" "),"--antd-arrow-background-color":d,width:"max-content",maxWidth:"100vw","&-rtl":{direction:"rtl"},"&-hidden":{display:"none"},[`${n}-content`]:{position:"relative"},[`${n}-inner`]:{backgroundColor:v,backgroundClip:"padding-box",borderRadius:s,boxShadow:u,padding:a},[`${n}-title`]:{minWidth:t,marginBottom:i,color:c,fontWeight:r,borderBottom:y,padding:f},[`${n}-inner-content`]:{color:o,padding:C}})},le(e,"var(--antd-arrow-background-color)"),{[`${n}-pure`]:{position:"relative",maxWidth:"none",margin:e.sizePopupArrow,display:"inline-block",[`${n}-content`]:{display:"inline-block"}}}]},Ne=e=>{const{componentCls:n}=e;return{[n]:ae.map(o=>{const t=e[`${o}6`];return{[`&${n}-${o}`]:{"--antd-arrow-background-color":t,[`${n}-inner`]:{backgroundColor:t},[`${n}-arrow`]:{background:"transparent"}}}})}},ke=e=>{const{lineWidth:n,controlHeight:o,fontHeight:t,padding:r,wireframe:a,zIndexPopupBase:u,borderRadiusLG:c,marginXS:s,lineType:p,colorSplit:i,paddingSM:d}=e,v=o-t,y=v/2,C=v/2-n,f=r;return Object.assign(Object.assign(Object.assign({titleMinWidth:177,zIndexPopup:u+30},se(e)),ie({contentRadius:c,limitVerticalRadius:!0})),{innerPadding:a?0:12,titleMarginBottom:a?0:s,titlePadding:a?`${y}px ${f}px ${C}px`:0,titleBorderBottom:a?`${n}px ${p} ${i}`:"none",innerContentPadding:a?`${d}px ${f}px`:0})},q=M("Popover",e=>{const{colorBgElevated:n,colorText:o}=e,t=ne(e,{popoverBg:n,popoverColor:o});return[Ee(t),Ne(t),oe(t,"zoom-big")]},ke,{resetStyle:!1,deprecatedTokens:[["width","titleMinWidth"],["minWidth","titleMinWidth"]]});var Ie=function(e,n){var o={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(o[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,t=Object.getOwnPropertySymbols(e);r<t.length;r++)n.indexOf(t[r])<0&&Object.prototype.propertyIsEnumerable.call(e,t[r])&&(o[t[r]]=e[t[r]]);return o};const U=e=>{let{title:n,content:o,prefixCls:t}=e;return!n&&!o?null:l.createElement(l.Fragment,null,n&&l.createElement("div",{className:`${t}-title`},n),o&&l.createElement("div",{className:`${t}-inner-content`},o))},Te=e=>{const{hashId:n,prefixCls:o,className:t,style:r,placement:a="top",title:u,content:c,children:s}=e,p=S(u),i=S(c),d=E(n,o,`${o}-pure`,`${o}-placement-${a}`,t);return l.createElement("div",{className:d,style:r},l.createElement("div",{className:`${o}-arrow`}),l.createElement(ce,Object.assign({},e,{className:n,prefixCls:o}),s||l.createElement(U,{prefixCls:o,title:p,content:i})))},X=e=>{const{prefixCls:n,className:o}=e,t=Ie(e,["prefixCls","className"]),{getPrefixCls:r}=l.useContext(j),a=r("popover",n),[u,c,s]=q(a);return u(l.createElement(Te,Object.assign({},t,{prefixCls:a,hashId:c,className:E(o,s)})))};var Be=function(e,n){var o={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(o[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,t=Object.getOwnPropertySymbols(e);r<t.length;r++)n.indexOf(t[r])<0&&Object.prototype.propertyIsEnumerable.call(e,t[r])&&(o[t[r]]=e[t[r]]);return o};const _e=l.forwardRef((e,n)=>{var o,t;const{prefixCls:r,title:a,content:u,overlayClassName:c,placement:s="top",trigger:p="hover",children:i,mouseEnterDelay:d=.1,mouseLeaveDelay:v=.1,onOpenChange:y,overlayStyle:C={}}=e,f=Be(e,["prefixCls","title","content","overlayClassName","placement","trigger","children","mouseEnterDelay","mouseLeaveDelay","onOpenChange","overlayStyle"]),{getPrefixCls:h}=l.useContext(j),O=h("popover",r),[m,g,k]=q(O),I=h(),$=E(c,g,k),[T,B]=H(!1,{value:(o=e.open)!==null&&o!==void 0?o:e.visible,defaultValue:(t=e.defaultOpen)!==null&&t!==void 0?t:e.defaultVisible}),x=(P,N)=>{B(P,!0),y?.(P,N)},b=P=>{P.keyCode===pe.ESC&&x(!1,P)},_=P=>{x(P)},W=S(a),D=S(u);return m(l.createElement(F,Object.assign({placement:s,trigger:p,mouseEnterDelay:d,mouseLeaveDelay:v,overlayStyle:C},f,{prefixCls:O,overlayClassName:$,ref:n,open:T,onOpenChange:_,overlay:W||D?l.createElement(U,{prefixCls:O,title:W,content:D}):null,transitionName:de(I,"zoom-big",f.transitionName),"data-popover-inject":!0}),ue(i,{onKeyDown:P=>{var N,z;l.isValidElement(i)&&((z=i==null?void 0:(N=i.props).onKeyDown)===null||z===void 0||z.call(N,P)),b(P)}})))}),Y=_e;Y._InternalPanelDoNotUseOrYouWillBeFired=X;const ze=e=>{const{componentCls:n,iconCls:o,antCls:t,zIndexPopup:r,colorText:a,colorWarning:u,marginXXS:c,marginXS:s,fontSize:p,fontWeightStrong:i,colorTextHeading:d}=e;return{[n]:{zIndex:r,[`&${t}-popover`]:{fontSize:p},[`${n}-message`]:{marginBottom:s,display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${n}-message-icon ${o}`]:{color:u,fontSize:p,lineHeight:1,marginInlineEnd:s},[`${n}-title`]:{fontWeight:i,color:d,"&:only-child":{fontWeight:"normal"}},[`${n}-description`]:{marginTop:c,color:a}},[`${n}-buttons`]:{textAlign:"end",whiteSpace:"nowrap",button:{marginInlineStart:s}}}}},Re=e=>{const{zIndexPopupBase:n}=e;return{zIndexPopup:n+60}},G=M("Popconfirm",e=>ze(e),Re,{resetStyle:!1});var We=function(e,n){var o={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(o[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,t=Object.getOwnPropertySymbols(e);r<t.length;r++)n.indexOf(t[r])<0&&Object.prototype.propertyIsEnumerable.call(e,t[r])&&(o[t[r]]=e[t[r]]);return o};const Q=e=>{const{prefixCls:n,okButtonProps:o,cancelButtonProps:t,title:r,description:a,cancelText:u,okText:c,okType:s="primary",icon:p=l.createElement(K,null),showCancel:i=!0,close:d,onConfirm:v,onCancel:y,onPopupClick:C}=e,{getPrefixCls:f}=l.useContext(j),[h]=fe("Popconfirm",me.Popconfirm),O=S(r),m=S(a);return l.createElement("div",{className:`${n}-inner-content`,onClick:C},l.createElement("div",{className:`${n}-message`},p&&l.createElement("span",{className:`${n}-message-icon`},p),l.createElement("div",{className:`${n}-message-text`},O&&l.createElement("div",{className:`${n}-title`},O),m&&l.createElement("div",{className:`${n}-description`},m))),l.createElement("div",{className:`${n}-buttons`},i&&l.createElement(A,Object.assign({onClick:y,size:"small"},t),u||h?.cancelText),l.createElement(je,{buttonProps:Object.assign(Object.assign({size:"small"},L(s)),o),actionFn:v,close:d,prefixCls:f("btn"),quitOnNullishReturnValue:!0,emitEvent:!0},c||h?.okText)))},De=e=>{const{prefixCls:n,placement:o,className:t,style:r}=e,a=We(e,["prefixCls","placement","className","style"]),{getPrefixCls:u}=l.useContext(j),c=u("popconfirm",n),[s]=G(c);return s(l.createElement(X,{placement:o,className:E(c,t),style:r,content:l.createElement(Q,Object.assign({prefixCls:c},a))}))};var Ve=function(e,n){var o={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(o[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,t=Object.getOwnPropertySymbols(e);r<t.length;r++)n.indexOf(t[r])<0&&Object.prototype.propertyIsEnumerable.call(e,t[r])&&(o[t[r]]=e[t[r]]);return o};const Ae=l.forwardRef((e,n)=>{var o,t;const{prefixCls:r,placement:a="top",trigger:u="click",okType:c="primary",icon:s=l.createElement(K,null),children:p,overlayClassName:i,onOpenChange:d,onVisibleChange:v}=e,y=Ve(e,["prefixCls","placement","trigger","okType","icon","children","overlayClassName","onOpenChange","onVisibleChange"]),{getPrefixCls:C}=l.useContext(j),[f,h]=H(!1,{value:(o=e.open)!==null&&o!==void 0?o:e.visible,defaultValue:(t=e.defaultOpen)!==null&&t!==void 0?t:e.defaultVisible}),O=(x,b)=>{h(x,!0),v?.(x),d?.(x,b)},m=x=>{O(!1,x)},g=x=>{var b;return(b=e.onConfirm)===null||b===void 0?void 0:b.call(void 0,x)},k=x=>{var b;O(!1,x),(b=e.onCancel)===null||b===void 0||b.call(void 0,x)},I=(x,b)=>{const{disabled:_=!1}=e;_||O(x,b)},$=C("popconfirm",r),T=E($,i),[B]=G($);return B(l.createElement(Y,Object.assign({},ge(y,["title"]),{trigger:u,placement:a,onOpenChange:I,open:f,ref:n,overlayClassName:T,content:l.createElement(Q,Object.assign({okType:c,icon:s},e,{prefixCls:$,close:m,onConfirm:g,onCancel:k})),"data-popover-inject":!0}),p))}),Z=Ae;Z._InternalPanelDoNotUseOrYouWillBeFired=De;function Me({id:e,title:n,description:o,updatedAt:t}){const r=ve(),{loggedIn:a}=xe(),[u,c]=l.useState(!1);l.useEffect(()=>{a&&c(ye())},[a]);const s=Ce({mutationKey:["deletePost"],mutationFn:async i=>{await Pe.Posts.delete(i)},onSuccess:()=>{r.invalidateQueries({queryKey:["posts"]})}}),p=()=>{s.mutate(e)};return w.jsxs(he,{className:"box",style:{width:"100%",height:"auto",boxShadow:"rgba(0, 0, 0, 0.35) 0px 5px 15px",margin:"1rem",position:"relative",padding:"1rem"},children:[u&&w.jsx(F,{title:"Delete post",children:w.jsx(Z,{title:"Delete the task",description:"Are you sure to delete this post?",okText:"Yes",cancelText:"No",onConfirm:p,children:w.jsx($e,{style:{position:"absolute",top:"1rem",right:"1rem",cursor:"pointer",fontSize:"1.5rem",color:"#fff8f0"}})})}),w.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[w.jsx(be,{to:`/post/${e}`,children:w.jsx(Oe,{style:{color:"#fff8f0"},level:2,children:n})}),w.jsx(V,{style:{color:"#fff8f0"},children:o}),w.jsx(V,{style:{color:"#fff8f0"},children:t.toLocaleString()})]})]})}export{Me as default};
